# 多导师独立对话功能测试指南

## 测试目标

验证多导师圆桌讨论功能是否正确实现每个导师的独立对话显示，而不是由一个导师代说所有话。

## 测试步骤

### 1. 启动圆桌讨论模式

1. 打开 FounderMind 应用
2. 点击"智慧导师"
3. 选择"圆桌讨论"模式
4. 选择至少2-3位导师（如马云、李嘉诚、Sam Altman）

### 2. 发送测试问题

建议使用以下测试问题来触发多导师回复：

**融资相关问题：**
```
我正在为我的AI创业公司寻求A轮融资，目前产品已有基础用户，但还没有盈利。各位导师对融资策略有什么建议？
```

**团队建设问题：**
```
我们是一个10人的创业团队，最近遇到了一些团队协作和文化建设的挑战。各位导师在团队管理方面有什么经验分享？
```

**AI发展问题：**
```
AI技术发展迅速，作为传统行业的创业者，应该如何拥抱AI技术？各位导师怎么看？
```

### 3. 验证预期效果

**正确的显示效果应该是：**

✅ **每个导师独立显示**
- 每个导师有自己的头像
- 每个导师有独立的对话气泡
- 导师名称清晰显示在各自的消息上方

✅ **流式显示效果**
- 导师按顺序依次发言
- 每个导师的内容采用打字机效果
- 导师间发言有适当延迟

✅ **视觉效果**
- 左侧有连接线显示对话连贯性
- 导师消息有进入动画效果
- 导师头像有悬浮效果

**错误的显示效果（需要修复）：**

❌ **单导师代说**
- 所有回复都显示在一个导师的头像下
- 其他导师的观点以文字形式出现，但没有独立头像

❌ **格式混乱**
- 导师名称和内容混在一起
- 没有明确的视觉分隔

## 测试场景

### 场景1：API正常工作
- 系统提示词指导AI生成格式化的多导师回复
- 格式：`**马云**：[回复内容] **李嘉诚**：[回复内容]`
- 系统正确解析并为每个导师创建独立显示

### 场景2：API调用失败（回退模式）
- 系统使用预设的多导师回复
- 每个导师根据问题类型给出特定回复
- 显示效果与API模式一致

### 场景3：移动端适配
- 在手机浏览器中测试
- 导师头像和对话气泡正确缩放
- 响应式布局正常工作

## 调试技巧

### 开发者工具检查

1. **Console 检查**
   ```javascript
   // 检查解析结果
   console.log('Parsed mentor responses:', mentorResponses);
   ```

2. **HTML 结构检查**
   - 查找 `.multi-mentor-response` 容器
   - 每个导师应该有独立的 `.streaming-mentor-message` 元素

3. **CSS 样式检查**
   - 验证连接线样式 `::before`
   - 检查动画效果是否正确应用

### 常见问题排查

**问题1：所有回复显示在一个导师下**
- 检查 `parseRoundtableResponse` 函数是否正确解析
- 验证系统提示词格式是否正确

**问题2：导师识别失败**
- 检查导师名称匹配逻辑
- 验证 `mentorsInfo` 数据是否完整

**问题3：流式效果不正常**
- 检查 `streamMultiMentorText` 函数
- 验证异步操作的执行顺序

## 性能测试

- 测试3-5个导师同时发言的性能
- 验证长文本内容的流式显示
- 检查内存使用情况（避免内存泄漏）

## 浏览器兼容性

测试以下浏览器：
- Chrome (推荐)
- Firefox
- Safari
- Edge
- 移动端 Safari/Chrome

## 预期改进点

- [ ] 导师发言优先级设置
- [ ] 导师发言时间戳显示
- [ ] 导师发言点赞/反馈功能
- [ ] 导师发言内容长度优化
- [ ] 更多导师角色支持 